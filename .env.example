# ==========================================
# Project Chimera Environment Configuration
# ==========================================
# Copy this file to .env and fill in your values

# ==========================================
# Discord Bot Configuration (REQUIRED)
# ==========================================
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_APPLICATION_ID=your_application_id_here
# Optional: Only needed for HTTP interactions verification; discord.py gateway bots do not require it
# DISCORD_PUBLIC_KEY=your_discord_public_key_here

# Optional: Set this to your guild ID for faster command sync during development
# DISCORD_GUILD_ID=your_test_guild_id_here

BOT_PREFIX=!

# ==========================================
# Riot API Configuration (REQUIRED)
# ==========================================
RIOT_API_KEY=your_riot_api_key_here

# ==========================================
# Database Configuration
# ==========================================
# PostgreSQL connection string
DATABASE_URL=postgresql://user:password@localhost:5432/lolbot
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30

# ==========================================
# Redis Configuration
# ==========================================
# Redis connection URL for caching and state management
REDIS_URL=redis://localhost:6379
REDIS_CACHE_TTL=3600
REDIS_MATCH_CACHE_TTL=86400

# ==========================================
# RSO (Riot Sign-On) OAuth Configuration (REQUIRED for /bind)
# ==========================================
# Get these from Riot Developer Portal: https://developer.riotgames.com/
SECURITY_RSO_CLIENT_ID=your_rso_client_id_here
SECURITY_RSO_CLIENT_SECRET=your_rso_client_secret_here

# Callback URL - must match the one registered in Riot Developer Portal
# Default: http://localhost:3000/callback
SECURITY_RSO_REDIRECT_URI=http://localhost:3000/callback

# ==========================================
# AI Configuration (Optional)
# ==========================================
# Google Gemini API for match analysis
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_OUTPUT_TOKENS=2048

# ==========================================
# TTS Configuration (Optional)
# ==========================================
# Volcengine Doubao TTS for voice narration
# Docs: docs/volcengine_tts_setup.md
# Typical endpoints:
#   HTTP sync: https://openspeech.bytedance.com/api/v1/tts
#   WS stream: wss://openspeech.bytedance.com/api/v1/tts/ws
# Auth: set header X-Api-Key with your API key
TTS_API_KEY=your_volcengine_api_key_here
TTS_API_URL=https://openspeech.bytedance.com/api/v1/tts
TTS_VOICE_ID=doubao_xxx

# ==========================================
# Application Configuration
# ==========================================
APP_NAME=Project Chimera
APP_VERSION=0.1.0
APP_ENV=development
APP_DEBUG=false
APP_LOG_LEVEL=INFO

# ==========================================
# Celery Async Task Queue (REQUIRED for /讲道理)
# ==========================================
# Celery broker URL - uses Redis database 0 for task queue
CELERY_BROKER_URL=redis://localhost:6379/0

# Celery result backend - uses Redis database 1 for storing task results
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# Task execution limits (in seconds)
# Hard time limit - task will be killed if exceeds this
CELERY_TASK_TIME_LIMIT=300

# Soft time limit - task receives SoftTimeLimitExceeded exception
CELERY_TASK_SOFT_TIME_LIMIT=240

# Worker concurrency (number of parallel worker processes)
# Recommended: number of CPU cores
CELERY_WORKER_CONCURRENCY=4

# Task serialization format (json is safer than pickle)
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json

# ==========================================
# Feature Flags
# ==========================================
FEATURE_VOICE_ENABLED=false
FEATURE_AI_ANALYSIS_ENABLED=true
FEATURE_LEADERBOARD_ENABLED=true
