# V3.0 Research Roadmap: Real-Time & Predictive Analysis

**Author**: CLI 4 (The Lab)
**Date**: 2025-10-06
**Target Timeline**: 2026-Q1 Research, 2026-Q2 Prototype
**Status**: ğŸ”¬ Research Phase (Pre-Implementation)

---

## ğŸ¯ V3.0 Vision Statement

**Transform the LOL bot from a post-game analysis tool into a real-time coaching assistant that provides predictive insights during champion select and immediate feedback after match completion.**

### Core Value Propositions

1. **Real-Time Delivery**: Reduce analysis latency from minutes to seconds
2. **Predictive Insights**: Forecast match outcomes, objective steal probability, player tilt
3. **Pre-Game Coaching**: Champion/role recommendations during champion select
4. **Voice Feedback**: Hands-free coaching for casual players

---

## ğŸ“Š User Demand Analysis

### Feedback Source: V2.1 Post-Analysis Surveys

| Feature Request | % Users | Urgency | Technical Feasibility | Compliance Risk |
|-----------------|---------|---------|----------------------|-----------------|
| **Faster feedback (real-time)** | 42% | High | Medium | **ğŸ”´ HIGH** |
| **Outcome prediction (win %)**  | 28% | Medium | High | ğŸŸ¡ Medium |
| **Voice playback (TTS)** | 18% | Low | Low | ğŸŸ¢ Low |
| **Team-wide analysis** | 12% | Low | Medium | ğŸŸ¢ Low |

**Key Insight**: 42% of users want real-time analysis, but this carries the highest compliance risk. V3.0 must prioritize Riot policy compliance research.

---

## ğŸš€ V3.0 Feature Roadmap

### Phase 1: Real-Time Analysis Infrastructure (V3.1)

**Goal**: Reduce analysis latency from 2-3 minutes to <30 seconds

#### Technical Approach

**Current Bottleneck Analysis**:
```
Current V2.1 flow:
1. Match ends                             â†’ 0s
2. Wait for Riot API match data           â†’ 60-120s (Match-V5 indexing delay)
3. Fetch Match-V5 + Timeline              â†’ 5-10s
4. V2.1 evidence extraction               â†’ 8-12s
5. LLM generation                         â†’ 3-5s
6. Total: 76-147 seconds
```

**V3.1 Optimizations**:

1. **Live Client Data API Integration**:
   - Access in-game data without waiting for Match-V5 indexing
   - Available immediately after match ends
   - **Compliance concern**: Must verify allowed data types (see V3_REALTIME_COMPLIANCE_RISK_ASSESSMENT.md)

2. **Incremental Analysis**:
   - Pre-compute V1 scores during match (if using Live Client Data)
   - Generate partial analysis at match end, finalize with Timeline data later
   - **Trade-off**: Partial analysis may have lower actionability

3. **Caching & Pre-fetching**:
   - Cache user profiles (already in V2.2)
   - Pre-fetch champion stats during match
   - **Impact**: -2-3s latency

**Projected Latency**:
```
V3.1 flow (optimized):
1. Match ends                             â†’ 0s
2. Live Client Data API pull              â†’ 2-3s (no indexing wait)
3. V1 scoring (pre-computed)              â†’ 0s (done during match)
4. V2.1 evidence extraction (partial)     â†’ 5-8s (no Timeline yet)
5. LLM generation                         â†’ 3-5s
6. Total: 10-16 seconds âœ… (<30s target)

Timeline data enrichment (background):
7. Wait for Match-V5 Timeline             â†’ +60-120s
8. Enrich suggestions with Timeline       â†’ +5-8s
9. Update analysis (optional refinement)  â†’ +3-5s
```

**Decision Point**: Should V3.1 deliver a "quick analysis" in 10-16s, then refine with Timeline data later?
- **Pro**: Meets user demand for speed
- **Con**: May confuse users with "analysis updates"

**Recommendation**: A/B test "quick analysis" vs "wait for complete data"

---

### Phase 2: Predictive Analytics (V3.2)

**Goal**: Forecast match outcomes and objective steal probability using ML models

#### Feature 2.1: Win Probability Prediction (Champion Select)

**Use Case**: During champion select, show user their team composition's win probability vs enemy team

**Example UI**:
```
ğŸ“Š Team Composition Analysis
Your Team Win Probability: 52.3%
Enemy Team Win Probability: 47.7%

Key Matchup Concerns:
  âš ï¸  æ•Œæ–¹ä¸­å• Yasuo counters ä½ çš„ADC Jinx (63% win rate)
  âœ… ä½ çš„æ‰“é‡ Lee Sin counters æ•Œæ–¹æ‰“é‡ Evelynn (58% win rate)
```

**Technical Approach**:

1. **Data Collection**:
   - Fetch historical match data for all 10 champions
   - Champion synergy matrix (e.g., Yasuo + Malphite = high synergy)
   - Counter-pick win rates (e.g., Yasuo vs Jinx = 63% Yasuo win rate)

2. **ML Model**:
   ```python
   # Feature engineering
   features = {
       "team_avg_win_rate": 0.51,
       "enemy_avg_win_rate": 0.49,
       "synergy_score_team": 0.72,  # Yasuo + Malphite combo
       "synergy_score_enemy": 0.58,
       "counter_pick_advantage": -0.05,  # Net counter-pick score
       "role_balance_team": 1.0,  # Has all 5 roles
       "role_balance_enemy": 0.8,  # Missing primary jungler
   }

   # Model prediction
   win_prob = gradient_boosting_model.predict(features)
   # Output: 0.523 (52.3% win probability)
   ```

3. **Model Training**:
   - Dataset: Last 100,000 ranked matches (Match-V5)
   - Target: Match outcome (win/loss)
   - Validation: 80/20 train/test split, AUC-ROC >0.65

**Compliance Check**:
- âœ… **Allowed**: Pre-game champion analysis (no real-time advantage)
- âœ… **Allowed**: Historical win rates (publicly available data)
- âŒ **Prohibited**: Real-time tracking of enemy skill usage

**Projected Accuracy**: 60-65% (better than random, but not guaranteed)

**User Value**: Helps players make informed champion choices, reduces tilt ("è¿™å±€å¼€å±€å°±ä¸å¥½ï¼Œåˆ«å¤ªåœ¨æ„")

---

#### Feature 2.2: Objective Steal Probability (Real-Time)

**Use Case**: At 20:00 game time, show probability of enemy stealing Baron if team attempts it without vision

**Example UI**:
```
âš ï¸  å¤§é¾™å·å–é£é™©è¯„ä¼°
å¦‚æœç°åœ¨å¼€é¾™ï¼ˆæ— è§†é‡ï¼‰ï¼š
  æ•Œæ–¹å·é¾™æ¦‚ç‡: 68% ğŸ”´ HIGH RISK

å»ºè®®ï¼š
  1. å…ˆæ”¾ç½®2ä¸ªçœŸçœ¼åœ¨å¤§é¾™å‘ä¸Šæ–¹å’Œæ²³é“
  2. ç­‰å¾…æ•Œæ–¹æ‰“é‡ä½ç½®æš´éœ²
  3. é™ä½å·é¾™æ¦‚ç‡è‡³ <30%
```

**Technical Approach**:

1. **Feature Extraction (from Live Client Data)**:
   ```python
   features = {
       "team_vision_in_baron_area": False,  # No wards
       "enemy_jungler_smite_available": True,  # Likely (no recent smite usage)
       "baron_hp_remaining": 0.4,  # 40% HP
       "team_burst_damage": 8500,  # Total team burst
       "enemy_jungler_burst_damage": 1200,  # Enemy jungler burst
       "distance_enemy_jungler_to_baron": 2500,  # Units
   }
   ```

2. **ML Model**:
   - Binary classification: Stolen (1) vs Secured (0)
   - Training data: Matches where Baron attempts occurred
   - Features: Vision control, burst damage, jungler position

**Compliance Concern**: ğŸ”´ **HIGH RISK**
- This feature provides **real-time competitive advantage** (enemy jungler position tracking)
- **Likely prohibited** under Riot ToS (unfair information advantage)

**Recommendation**: **DO NOT implement** until compliance is vetted (see V3_REALTIME_COMPLIANCE_RISK_ASSESSMENT.md)

---

### Phase 3: Voice Feedback (V3.3 / V2.3 Quick Win)

**Goal**: Enable hands-free coaching for casual players

#### Feature 3.1: TTS (Text-to-Speech) Analysis Playback

**Use Case**: User receives audio version of V2.2 analysis, playable in Discord voice channel

**Example**:
```
ğŸ”Š è¯­éŸ³æ’­æŠ¥å·²ç”Ÿæˆï¼ˆæ—¶é•¿ï¼š2åˆ†15ç§’ï¼‰
ç‚¹å‡»æ’­æ”¾ï¼š[â–¶ï¸ æ’­æ”¾åˆ†æ]

"ä½ å¥½ï¼Œè¿™æ˜¯ä½ æœ€è¿‘ä¸€åœºæ¯”èµ›çš„åˆ†ææŠ¥å‘Šã€‚ä½ ä½¿ç”¨çš„æ˜¯ Jinxï¼Œ
è¿™åœºæ¯”èµ›ä½ çš„æ•´ä½“è¡¨ç°ä¸é”™ï¼Œç»¼åˆè¯„åˆ†77.8åˆ†ã€‚ä½†æ˜¯åœ¨è§†é‡æ§åˆ¶æ–¹é¢ï¼Œ
ä½ çš„å¾—åˆ†åªæœ‰62.4åˆ†ï¼Œåœ¨é˜Ÿä¼ä¸­æ’åç¬¬4ã€‚æˆ‘æ³¨æ„åˆ°åœ¨24åˆ†16ç§’çš„æ—¶å€™..."
```

**Technical Implementation**:

1. **TTS Service Integration**:
   - **Option A**: Google Cloud TTS (multi-language support, high quality)
   - **Option B**: Azure Speech Services (æ›´å¥½çš„ä¸­æ–‡æ”¯æŒ)
   - **Option C**: Volcengine TTS (å›½å†…å»¶è¿Ÿæ›´ä½)

2. **Script Generation**:
   ```python
   # Convert V2.2 report to TTS-friendly script
   def generate_tts_script(report: V21PrescriptiveAnalysisReport) -> str:
       script = f"ä½ å¥½ï¼Œè¿™æ˜¯ä½ æœ€è¿‘ä¸€åœºæ¯”èµ›çš„åˆ†ææŠ¥å‘Šã€‚"
       script += f"ä½ ä½¿ç”¨çš„æ˜¯ {report.champion_name}ï¼Œ"
       script += f"è¿™åœºæ¯”èµ›ä½ çš„æ•´ä½“è¡¨ç°{'ä¸é”™' if report.overall_score > 70 else 'æœ‰å¾…æå‡'}ã€‚"

       for suggestion in report.improvement_suggestions[:3]:  # Top 3 only
           script += f"åœ¨ {suggestion.dimension} ç»´åº¦ï¼Œ"
           script += simplify_for_speech(suggestion.action_item)

       return script
   ```

3. **Discord Audio Playback**:
   - Generate audio file (MP3/OGG)
   - Upload to Discord CDN or S3
   - Embed audio player in Discord message

**Cost Analysis**:
- Google Cloud TTS: $4 per 1M characters
- Average script length: 800 characters
- Cost per analysis: $0.0032 (negligible)

**Compliance Check**:
- âœ… **Allowed**: Audio playback of post-game analysis (no competitive advantage)

**User Value**: 18% of users (mainly casual players) prefer audio over reading

**Priority**: ğŸŸ¢ **Quick Win** - Can implement in V2.3 before V3.0

---

### Phase 4: Team-Wide Analysis (V3.4)

**Goal**: Analyze all 5 teammates' performance and identify team-level weaknesses

**Use Case**: Show captain/shotcaller a team-wide report highlighting coordination gaps

**Example UI**:
```
ğŸ‘¥ å›¢é˜Ÿæ•´ä½“åˆ†æï¼ˆ5äººï¼‰

æ•´ä½“è¯„åˆ†: 68.2/100
å›¢é˜Ÿå¼±ç‚¹: Vision Controlï¼ˆå¹³å‡62.1åˆ†ï¼‰

ä¸ªäººè¡¨ç°æ’å:
  1. ä¸­å• Player1ï¼ˆ79.3åˆ†ï¼‰â­ MVP
  2. æ‰“é‡ Player2ï¼ˆ75.8åˆ†ï¼‰
  3. ADC ä½ ï¼ˆ77.8åˆ†ï¼‰
  4. è¾…åŠ© Player4ï¼ˆ66.2åˆ†ï¼‰
  5. ä¸Šå• Player5ï¼ˆ59.4åˆ†ï¼‰âš ï¸ éœ€è¦æ”¹è¿›

å›¢é˜Ÿåä½œå»ºè®®:
  âš ï¸  ä½ çš„è¾…åŠ©ï¼ˆPlayer4ï¼‰å’Œä¸Šå•ï¼ˆPlayer5ï¼‰çš„è§†é‡å¾—åˆ†åä½ï¼Œ
      å»ºè®®æ‰“é‡ï¼ˆPlayer2ï¼‰åœ¨å‰æœŸå¸®åŠ©ä¸ŠåŠåŒºå»ºç«‹è§†é‡ä¼˜åŠ¿ã€‚
```

**Technical Implementation**:

1. **Multi-Player Data Aggregation**:
   - Require all 5 players to opt-in (privacy consideration)
   - Aggregate V2.1 reports for all 5 players
   - Identify team-level patterns (e.g., "æ•´ä¸ªå›¢é˜Ÿè§†é‡æ§åˆ¶è–„å¼±")

2. **Team Coordination Analysis**:
   ```python
   # Detect coordination gaps
   if (
       support_vision_score < 60
       and jungle_vision_score < 60
       and adc_vision_score < 60
   ):
       team_weakness = "æ•´ä¸ªå›¢é˜Ÿç¼ºä¹è§†é‡æ„è¯†ï¼Œéœ€è¦åœ¨èµ›å‰æ²Ÿé€šè§†é‡åˆ†å·¥"
   ```

**Compliance Check**:
- âœ… **Allowed**: Team-wide post-game analysis (no competitive advantage)
- âš ï¸  **Privacy**: Requires all players' consent to share data

**User Value**: 12% of users (mainly premade teams) requested this feature

**Priority**: ğŸŸ¢ **V3.4** - Lower priority, but low compliance risk

---

## ğŸ—ºï¸ V3.0 Implementation Timeline

### 2025-Q4: Compliance Research & Feasibility Study

| Task | Duration | Deliverable | Owner |
|------|----------|-------------|-------|
| Riot Live Client Data API policy review | 2 weeks | Compliance assessment report | CLI 4 |
| Live Client Data API integration prototype | 3 weeks | Python adapter + data extraction | CLI 2 |
| Real-time latency testing | 1 week | Performance benchmark report | CLI 3 |
| Win probability ML model training | 4 weeks | Trained model + validation report | CLI 4 |

**Decision Point**: If compliance issues found, pivot to V3.3 (TTS) instead of V3.1 (real-time)

---

### 2026-Q1: V3.1 Real-Time Analysis (Conditional)

**Prerequisites**:
- âœ… Compliance clearance from Riot API team
- âœ… Live Client Data API adapter tested

| Task | Duration | Deliverable |
|------|----------|-------------|
| Live Client Data integration | 3 weeks | Real-time data pipeline |
| Incremental analysis logic | 2 weeks | Quick analysis (10-16s latency) |
| A/B test: Quick vs Complete analysis | 2 weeks | User preference data |
| Production rollout (if successful) | 1 week | V3.1 release |

**Total**: 8 weeks

---

### 2026-Q2: V3.2 Predictive Analytics

| Task | Duration | Deliverable |
|------|----------|-------------|
| Win probability model deployment | 2 weeks | Champion select prediction API |
| Frontend integration (champion select UI) | 2 weeks | Discord embed with win % |
| User testing & feedback | 2 weeks | Validation of model accuracy |
| Production rollout | 1 week | V3.2 release |

**Total**: 7 weeks

---

### 2026-Q3: V3.3 Voice Feedback (Quick Win - Can Move to V2.3)

| Task | Duration | Deliverable |
|------|----------|-------------|
| TTS service integration | 1 week | Audio generation API |
| Script generation logic | 1 week | TTS-friendly text conversion |
| Discord audio playback | 1 week | Audio embed in messages |
| User testing | 1 week | Feedback collection |
| Production rollout | 1 week | V3.3 release |

**Total**: 5 weeks

**Note**: This can be fast-tracked to V2.3 (before V3.0) due to low complexity and high user value

---

## ğŸ“Š Success Criteria for V3.0

| Metric | V2.2 Baseline | V3.0 Target | Measurement Method |
|--------|---------------|-------------|---------------------|
| **Analysis Latency (P95)** | 76-147s | **<30s** | Server logs |
| **User Satisfaction** | 80-85% | **85-90%** | Feedback surveys |
| **Win Probability Accuracy** | N/A | **60-65% AUC-ROC** | ML model validation |
| **TTS Adoption Rate** | N/A | **20-25%** | TTS playback clicks / total analyses |
| **Cost per Analysis** | $0.014 | **<$0.020** | LLM + TTS cost tracking |

---

## âš ï¸ Risk Assessment

### High-Risk Items

1. **Riot API Compliance** (V3.1 Real-Time Analysis)
   - **Risk**: Violation of ToS â†’ API key revocation
   - **Mitigation**: Thorough compliance review before implementation (see V3_REALTIME_COMPLIANCE_RISK_ASSESSMENT.md)
   - **Contingency**: If real-time is prohibited, focus on V3.2 (predictive) and V3.3 (TTS)

2. **Model Accuracy** (V3.2 Predictive Analytics)
   - **Risk**: <55% accuracy â†’ users lose trust in predictions
   - **Mitigation**: Set clear expectations ("é¢„æµ‹å‡†ç¡®ç‡çº¦60%ï¼Œä»…ä¾›å‚è€ƒ")
   - **Contingency**: If accuracy too low, pivot to simpler heuristics (e.g., champion counter-pick tables)

### Medium-Risk Items

1. **Latency Targets** (V3.1)
   - **Risk**: Live Client Data API slower than expected
   - **Mitigation**: Implement fallback to Match-V5 if latency >30s
   - **Contingency**: Deliver "quick analysis" in 15-20s, enrich later

2. **User Privacy** (V3.4 Team-Wide Analysis)
   - **Risk**: Users uncomfortable sharing data with teammates
   - **Mitigation**: Require explicit opt-in, allow data hiding

---

## ğŸ“ Lessons from V2.2 Applied to V3.0

1. **Start with Compliance**: V2.1 success due to upfront Riot policy compliance
   - **V3.0**: Compliance research is Phase 0, not afterthought

2. **Structured Output Reduces Failure**: V2.1 JSON Mode reduced hallucination
   - **V3.0**: Use structured ML model outputs (probabilities, not narratives)

3. **User Feedback Drives Iteration**: V2.1 actionability analysis identified Combat/Teamplay gaps
   - **V3.0**: Implement detailed telemetry for win probability prediction accuracy

4. **Quick Wins Buy Time for Big Bets**: V2.2 personalization was low-hanging fruit
   - **V3.0**: TTS (V3.3) is quick win while V3.1 real-time undergoes compliance review

---

## ğŸ”® Looking Beyond V3.0: V4.0 Opportunities

### Emerging Technologies

1. **Multimodal AI (Vision + Language)**:
   - Analyze match VOD footage, not just stats
   - Example: "åœ¨24:16å›¢æˆ˜ä¸­ï¼Œä½ ç«™ä½è¿‡äºé å‰ï¼ˆçº¢åœˆæ ‡æ³¨ï¼‰ï¼Œå¯¼è‡´è¢«æ•Œæ–¹é›†ç«"

2. **Reinforcement Learning Coaching**:
   - Train RL agent on professional matches
   - Provide "what would Faker do?" suggestions

3. **Cross-Platform Integration**:
   - Integrate with op.gg, u.gg for broader user reach
   - In-game overlay (requires Overwolf or similar)

**Timeline**: 2027+ (post-V3.0 stabilization)

---

## ğŸ“„ Conclusion

V3.0 represents a paradigm shift from **post-game analysis** to **real-time coaching assistant**.

**Core Focus**:
1. **Real-time delivery** (<30s latency) via Live Client Data API
2. **Predictive insights** (win probability, objective risks) via ML models
3. **Voice feedback** (TTS) for casual players

**Highest Priority**: **Compliance research for real-time features** (V3.1)
**Quick Win**: **TTS voice feedback** (V3.3, can be V2.3)

**Status**: âœ… **Roadmap defined, compliance research ready to begin**

---

**Next Steps**:
1. CLI 4 to complete **V3_REALTIME_COMPLIANCE_RISK_ASSESSMENT.md** (detailed Riot policy analysis)
2. CLI 2 to prototype Live Client Data API integration (2-week feasibility study)
3. CLI 4 to begin win probability ML model training (parallel to compliance research)

**Expected Decision Point**: 2025-12-01 (Go/No-Go for V3.1 real-time features)

---

**Document Version**: 1.0
**Last Updated**: 2025-10-06
**Next Review**: After compliance research completion (2025-12-01)
